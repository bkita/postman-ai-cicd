
# ğŸ§ª Postman API Tests + GitHub Actions CI

This project demonstrates how to build and run **API tests in Postman**, use **GitHub Copilot** to speed up writing test scripts, and automatically execute everything in **GitHub Actions**.

Itâ€™s a practical starter setup for running Postman API tests in a real CI/CD pipeline.

---

## ğŸš€ What does this project do?

âœ”ï¸ Store Postman collections and environments in the repository  
âœ”ï¸ Write API tests in Postman (with GitHub Copilot support ğŸ¤–)  
âœ”ï¸ Export collections and environments using Node.js scripts  
âœ”ï¸ Run tests in CI using **Newman**  
âœ”ï¸ Generate an **HTML report** after every test run

---

## ğŸ§± Project structure

```
.
â”œâ”€â”€ .github/workflows/
â”‚   â””â”€â”€ postman.yml              # GitHub Actions workflow
â”‚
â”œâ”€â”€ postman/
â”‚   â”œâ”€â”€ collections/
â”‚   â”‚   â””â”€â”€ BookstoreAPI.postman_collection.json
â”‚   â””â”€â”€ environments/
â”‚       â””â”€â”€ BookstoreAPI.postman_environment.json
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ exportPostmanCollection.js
â”‚   â”œâ”€â”€ exportPostmanEnvironment.js
â”‚   â””â”€â”€ runNewman.js
â”‚
â”œâ”€â”€ reports/
â”‚   â””â”€â”€ newman.html              # Test report generated by CI
â”‚
â”œâ”€â”€ .env                         # Local environment variables (do not commit)
â”œâ”€â”€ package.json
â””â”€â”€ package-lock.json
```

---

## ğŸ§  How GitHub Copilot helps here

GitHub Copilot is extremely useful when writing:

- Test scripts in the **Tests** tab in Postman
- Response validations
- Assertions for status codes and response bodies
- JSON schema checks
- Pre-request scripts

Example test script Copilot can easily help generate:

```javascript
pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("Response contains token", function () {
    const jsonData = pm.response.json();
    pm.expect(jsonData.token).to.exist;
});
```

---

## âš™ï¸ Local setup

### 1ï¸âƒ£ Clone the repository

```bash
git clone <REPOSITORY_URL>
cd postman-cicd
```

### 2ï¸âƒ£ Install dependencies

```bash
npm ci
```

---

## ğŸ” Environment variables

Create a local `.env` file:

```
POSTMAN_API_KEY=your_postman_api_key
POSTMAN_COLLECTION_UID=your_collection_uid
POSTMAN_ENVIRONMENT_UID=your_environment_uid
```

> âš ï¸ The `.env` file should NOT be committed to the repository (it is included in `.gitignore`).

---

## ğŸ“¤ Export collection and environment from Postman

Scripts in the `scripts/` folder use the Postman API to download the latest versions.

### Export collection

```bash
npm run pm:export:col
```

### Export environment

```bash
npm run pm:export:env
```

### Export everything

```bash
npm run pm:sync
```

---

## ğŸ§ª Run tests locally with Newman

```bash
npm run pm:test
```

After execution, the report will be available at:

```
reports/newman.html
```

---

## ğŸ¤– GitHub Actions â€“ API tests in CI

The workflow is defined in:

```
.github/workflows/postman.yml
```

### What the pipeline does

1. Checks out the repository  
2. Installs Node.js  
3. Installs dependencies (`npm ci`)  
4. Runs Postman tests using Newman  
5. Uploads the HTML report as a build artifact

---

## ğŸ”‘ Required GitHub Secrets

In your repository go to:  
**Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret**

Add the following secrets:

| Secret name | Description |
|-------------|-------------|
| `POSTMAN_COLLECTION_NAME` | Collection file name |
| `POSTMAN_COLLECTION_EXPORT_PATH` | Path to the collection in the repo |
| `POSTMAN_ENVIRONMENT_NAME` | Environment file name |
| `POSTMAN_ENVIRONMENT_EXPORT_PATH` | Path to the environment in the repo |
| `REPORT_DIR` | Directory for reports (e.g. `reports`) |

---

## ğŸ“Š Test reports

After each workflow run:

ğŸ‘‰ Open **GitHub Actions**  
ğŸ‘‰ Select a workflow run  
ğŸ‘‰ Go to **Artifacts**  
ğŸ‘‰ Download `newman-report`  

Inside, youâ€™ll find a detailed HTML report with all test results.

---

## ğŸ§© Tech stack

- **Postman** â€“ API requests and test scripts  
- **GitHub Copilot** â€“ AI support for writing test code  
- **Node.js** â€“ scripts for exporting and running tests  
- **Newman** â€“ CLI runner for Postman collections  
- **GitHub Actions** â€“ CI pipeline for automated test execution  

---

## ğŸ¯ Who is this project for?

This setup is great for people who want to:

- Move from manual Postman testing to **automated API tests**
- Integrate Postman with **CI/CD pipelines**
- Use **AI tools like Copilot** to speed up test development
- Have a production-style structure for API testing in CI

---

Happy testing! ğŸš€

Created with ğŸ§‰ by [@bkita](https://github.com/bkita) and [@akademiaqa](https://github.com/akademiaqa)
